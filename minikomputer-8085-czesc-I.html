<!DOCTYPE html>
<html>
<head>
    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Page Meta -->
    <title>Minikomputer 8085 - Część I</title>
    <meta name="description" content="A place where I share my thoughts about programming." />

    <!-- Mobile Meta -->
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Brand icon -->
    <link rel="shortcut icon" href="/assets/images/favicon.ico" >

    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400" />
    <link rel="stylesheet" type="text/css" href="/assets/css/syntax.css" />

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!-- Ghost outputs important style and meta data with this tag -->
        <link rel="canonical" href="http://blog.marcinchwedczuk.pl//minikomputer-8085-czesc-I" />
    <meta name="referrer" content="origin" />
    <link rel="next" href="/page2/" />

    <meta property="og:site_name" content="Programming is Magic" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Minikomputer 8085 - Część I" />
    <meta property="og:description" content="A place where I share my thoughts about programming." />
    <meta property="og:url" content="http://blog.marcinchwedczuk.pl//minikomputer-8085-czesc-I" />
    <meta property="og:image" content="/assets/images/mc_cover6.jpg" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Minikomputer 8085 - Część I" />
    <meta name="twitter:description" content="A place where I share my thoughts about programming." />
    <meta name="twitter:url" content="http://blog.marcinchwedczuk.pl//minikomputer-8085-czesc-I" />
    <meta name="twitter:image:src" content="/assets/images/mc_cover6.jpg" />

    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Website",
    "publisher": "Programming is Magic",
    "name": "Minikomputer 8085 - Część I",
    "url": "http://blog.marcinchwedczuk.pl//minikomputer-8085-czesc-I",
    "image": "/assets/images/mc_cover6.jpg",
    "description": "A place where I share my thoughts about programming."
}
    </script>

    <meta name="generator" content="Jekyll 3.0.0" />
    <link rel="alternate" type="application/rss+xml" title="Programming is Magic" href="/feed.xml" />


</head>
<body class="home-template nav-closed">

    <!-- The blog navigation links -->
    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        <li class="nav-home " role="presentation"><a href="/">Home</a></li>
        <!-- <li class="nav-about " role="presentation"><a href="/about">About</a></li> -->

        
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/java">
                    java (29)
                    <!-- minikomputer-8085-czesc-I name: java -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/dotnet">
                    dotnet (11)
                    <!-- minikomputer-8085-czesc-I name: dotnet -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/algorithms">
                    algorithms (7)
                    <!-- minikomputer-8085-czesc-I name: algorithms -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/architecture">
                    architecture (7)
                    <!-- minikomputer-8085-czesc-I name: architecture -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/scala">
                    scala (7)
                    <!-- minikomputer-8085-czesc-I name: scala -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/javascript">
                    javascript (5)
                    <!-- minikomputer-8085-czesc-I name: javascript -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/polish">
                    polish (5)
                    <!-- minikomputer-8085-czesc-I name: polish -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/csharp">
                    csharp (4)
                    <!-- minikomputer-8085-czesc-I name: csharp -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/elektronika">
                    elektronika (4)
                    <!-- minikomputer-8085-czesc-I name: elektronika -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/hibernate">
                    hibernate (3)
                    <!-- minikomputer-8085-czesc-I name: hibernate -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/linux">
                    linux (3)
                    <!-- minikomputer-8085-czesc-I name: linux -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/unit-testing">
                    unit-testing (3)
                    <!-- minikomputer-8085-czesc-I name: unit-testing -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/hardware-review">
                    hardware-review (2)
                    <!-- minikomputer-8085-czesc-I name: hardware-review -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/cheatsheet">
                    cheatsheet (1)
                    <!-- minikomputer-8085-czesc-I name: cheatsheet -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/ctf">
                    ctf (1)
                    <!-- minikomputer-8085-czesc-I name: ctf -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/devcon">
                    devcon (1)
                    <!-- minikomputer-8085-czesc-I name: devcon -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/eclipse">
                    eclipse (1)
                    <!-- minikomputer-8085-czesc-I name: eclipse -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/functional-programming">
                    functional-programming (1)
                    <!-- minikomputer-8085-czesc-I name: functional-programming -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/git">
                    git (1)
                    <!-- minikomputer-8085-czesc-I name: git -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/hacking">
                    hacking (1)
                    <!-- minikomputer-8085-czesc-I name: hacking -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/hardware">
                    hardware (1)
                    <!-- minikomputer-8085-czesc-I name: hardware -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/kotlin">
                    kotlin (1)
                    <!-- minikomputer-8085-czesc-I name: kotlin -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/low-level">
                    low-level (1)
                    <!-- minikomputer-8085-czesc-I name: low-level -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/other">
                    other (1)
                    <!-- minikomputer-8085-czesc-I name: other -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/postman">
                    postman (1)
                    <!-- minikomputer-8085-czesc-I name: postman -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/powershell">
                    powershell (1)
                    <!-- minikomputer-8085-czesc-I name: powershell -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/regex">
                    regex (1)
                    <!-- minikomputer-8085-czesc-I name: regex -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/security">
                    security (1)
                    <!-- minikomputer-8085-czesc-I name: security -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/sql">
                    sql (1)
                    <!-- minikomputer-8085-czesc-I name: sql -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/ssh">
                    ssh (1)
                    <!-- minikomputer-8085-czesc-I name: ssh -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/tips">
                    tips (1)
                    <!-- minikomputer-8085-czesc-I name: tips -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/vim">
                    vim (1)
                    <!-- minikomputer-8085-czesc-I name: vim -->
                </a>
            </li>
        
            
            
            <li class="nav-about " role="presentation">
                <a href="/tag/windows">
                    windows (1)
                    <!-- minikomputer-8085-czesc-I name: windows -->
                </a>
            </li>
        

   </ul>
    <a class="subscribe-button icon-feed" href="/feed.xml">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The comment above "< default" means - insert everything in this file into -->
    <!-- the [body] of the default.hbs template, which contains our header/footer. -->

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->



<header class="main-header post-head " style="background-image: url(/assets/images/mc_cover6.jpg) ">
    <nav class="main-nav  overlay  clearfix">
        <a class="blog-logo" href="/"><img src="/assets/images/home.png" alt="Blog Logo" /></a>
        
            <a class="menu-button icon-menu" href="#"><span class="word">Menu</span></a>
        
    </nav>
</header>

<main class="content" role="main">

    <article class="post tag-test tag-content">

        <header class="post-header">
            <h1 class="post-title">Minikomputer 8085 - Część I</h1>
            <section class="post-meta">
            <!-- <a href='/'>mc</a> -->

            
                
                    <a href='/author/mc'>Marcin Chwedczuk</a>
                
            
            <time class="post-date" datetime="2020-09-20">20 Sep 2020</time>
                <!-- [[tags prefix=" on "]] -->
                
                on
                
                    
                       <a href='/tag/polish'>Polish</a>,
                    
                
                    
                       <a href='/tag/elektronika'>Elektronika</a>
                    
                
                
            </section>
        </header>

        <section class="post-content">

            <p>Już od dłuższego czasu myślałem o tym żeby zbudować swój własny minikomputer.
W internecie można znaleźć mnóstwo tego typu projektów, z moich ulubionych
mogę wymienić oparty na procesorze 6502 <a href="https://eater.net/6502">komputer autorstwa Bena Eatera</a>
oraz oparty na CPU Intela <a href="http://www.malinov.com/Home/sergeys-projects/minimax8085">MiniMax8085 Sergieja Malinova</a>.
Mój minikomputer
postanowiłem jednak oprzeć na artykule opublikowanym na łamach czasopisma <a href="https://www.nutsvolts.com/">Nuts and Volts</a>,
autorstwa Davida Huntera. Dokładniej chodzi o artykuł
<a href="https://www.nutsvolts.com/magazine/article/build-a-pocket-sized-altair-computer">Build a pocket-sized ALTAIR computer</a>
z początku 2019 roku.</p>

<p>Olbrzymią zaletą opisywanego w artykule komputera jest jego prostota.
Podstawową wersję komputera, możemy zbudować przy pomocy zaledwie pięciu 
układów scalonych (CPU, RAM, ROM, 74LS373 oraz 74LS139).
Dodatkowo do budowy komputera możemy wykorzystać płytki stykowe, 
dzięki czemu możemy się obejść bez lutownicy.</p>

<p>Pierwszą przeszkodą z jaką musimy się zmierzyć jest zakup procesora.
Oryginalny układa 8085 Intela jest już praktycznie niedostępny na rynku.
Na szczęście wciąż jeszcze można kupić kompatybilne z nim zamienniki.
Bardzo pomocna jest tutaj strona <a href="http://www.cpu-collection.de/?tn=0&amp;l0=cl&amp;l1=8085">www.cpu-collection.de</a>
która podaje ich długą i wyczerpującą listę.
Dla przykładu udało mi się kupić układ oznaczony jako <code class="highlighter-rouge">SAB 8085AH2P</code>,
który jak się okazało jest nadal dostępny w sklepie <a href="https://inter-chip.pl/8085p-2630.html">inter-chip.pl</a>
(uprzedzam strona sklepu jest okropna).
Z kolei klon <code class="highlighter-rouge">AMD P8085A</code> zdaje się być dostępny w sklepie <a href="https://shop.tvsat.com.pl/pl/p/1szt-IC-uPC-P8085A-DIP40-AMD/31712">TVSAT-SHOP.pl</a>
w nieco niższej cenie.
<img src="assets/images/2020-09-20/my8085.jpeg" alt="Zakupiony przeze mnie procesor 8085" /></p>

<p>Na koniec pewna uwaga techniczna: dwójka znajdująca się przy końcu oznaczenia procesora np. <code class="highlighter-rouge">SAB 8085AH2P</code>
wskazuje na model który może być taktowany z częstotliwością do 5MHz. Układy bez dwójki np. <code class="highlighter-rouge">AMD P8085A</code> mogą być taktowane
zegarem do 3MHz. Warto dodać że procesor pracuje z połową częstotliwości podłączonego do niego
rezonatora kwarcowego (aka kryształu). Jeżeli więc chcemy taktować procesor z częstotliwością 5MHz, to powinniśmy
użyć kryształu 10MHz’owego. Z drugiej strony minimalna częstotliwość z jaką mogą pracować te procesory wynosi 1MHz,
czyli minimalna częstotliwość rezonatora kwarcowego to 2MHz.</p>

<p>Zakup pozostałych części nie powinien sprawić większych kłopotów.
Pełna lista wymaganych komponentów podana jest w <a href="https://www.nutsvolts.com/magazine/article/build-a-pocket-sized-altair-computer#Parts%20List">artykule pana Huntera</a>,
do tego potrzebować będziemy jeszcze stabilizowanego źródła zasilania 5V, trzech płytek stykowych, 
całej masy przewodów połączeniowych i kilku diod LED.</p>

<p>Do programowania pamięci EEPROM możemy wykorzystać popularny wśród hobbystów TL866II PLUS
(cena około 300PLN). Prosty programator można również zbudować samemu z wykorzystaniem Arduino
(patrz <a href="https://www.youtube.com/watch?v=K88pgWhEb1M">programator Bena Eatera</a> 
oraz <a href="https://github.com/TomNisbet/TommyPROM">TommyPROM</a>).</p>

<p>Do komunikacji z PC potrzebować będziemy jeszcze konwertera <code class="highlighter-rouge">USB &lt;-&gt; UART</code>
(aka FTDI), który możemy <a href="https://botland.com.pl/pl/konwertery-usb-uart-rs232-rs485/4501-konwerter-usb-uart-pl2303-wtyk-usb-waveshare-4037.html">kupić za około 15PLN</a>.
Przed podłączeniem konwertera do budowanego minikomputera, należy upewnić się
że zworka odpowiedzialna za wybór napięcia znajduje się w pozycji 5V:
<img src="assets/images/2020-09-20/ftdi.jpeg" alt="Konwerter USB UART" />
Po podłączeniu konwertera do komputera, system operacyjny powinien “wystawić” urządzenie jako nowy port szeregowy
np. <code class="highlighter-rouge">COM3</code> w systemie Windows lub <code class="highlighter-rouge">/dev/ttyUSB0</code> w systemie Linux.</p>

<p>Na koniec uwaga praktyczna: Układ 74HCT373 możemy zastąpić nowszym 74HCT573 który zdaje się mieć nieco
bardziej rozsądny układ wyprowadzeń (wszystkie wejścia po jednej stronie układu).
Zamiast 74HCT373 lub 74HCT573 możemy wykorzystać układ 74HCT574 zgodnie ze schematem:
<img src="assets/images/2020-09-20/74.png" alt="Alternatywny zatrzask adresu" />
(źródło: <a href="https://silo.tips/download/analisis-general-de-un-microprocesador">Análisis general de un Microprocesador</a>)</p>

<p>Jako inwerter można wykorzystać np. CD40106BE.
Testowałem powyższą konfigurację z kryształem 4MHz i wszystko działało bez problemów.</p>

<h3 id="budowa-i-uruchomienie-układu">Budowa i uruchomienie układu</h3>

<p>Moje pierwsze podejście do budowy komputera wyglądało następująco: 
umieściłem wszystkie niezbędne komponenty komputera na płytkach stykowych,
dwukrotnie sprawdziłem poprawności połączeń, podłączyłem konwerter <code class="highlighter-rouge">USB &lt;-&gt; UART</code>
i na koniec włączyłem zasilanie. I… nic. 
Komputer nie pracował, a ja nie miałem pojęcia dlaczego.
Musiałem więc rozmontować cały układ i zbudować go jeszcze raz, tym razem
krok po kroku.</p>

<p>Rozpocząłem od podłączenie jedynie CPU, pamięci ROM oraz układu 74HCT573.
<img src="assets/images/2020-09-20/ver1.jpg" alt="Alternatywny zatrzask adresu" />
W tym układzie:</p>

<ul>
  <li>Nóżki RD i WR procesora połączyłem przez oporniki 22k z plusem zasilania (+5V)</li>
  <li>Nóżkę WE pamięci ROM podłączyłem do plusa zasilania (zapis wyłączony)</li>
  <li>Nóżkę CE pamięci ROM podłączyłem do masy/GND (ROM włączony na stałe)</li>
  <li>Nóżkę OE pamięci ROM podłączyłem do nóżki RD procesora</li>
  <li>Nóżkę RST7_5 procesora odłączyłem od nóżki SID i zamiast tego połączyłem z masą zasilania przez opornik 1k</li>
</ul>

<p>Do sprawdzenia czy procesor działa wykorzystałem pomysł pochodzący
z <a href="http://www.glitchwrks.com/2010/09/02/8085-sbc">glitchwrks.com</a>,
to jest wykorzystanie wyjścia SOD procesora do sterowania diodami LED:
<img src="assets/images/2020-09-20/leds.png" alt="Podłączenie diod LED do SOD" />
Ponieważ nasz “komputer” nie posiada jeszcze pamięci RAM to nie mogłem
wykorzystać zamieszczonego przez GlitchWorks kodu. Brak pamięci RAM
oznacza bowiem brak stosu wywołań funkcji. Innymi słowy rozkazy <code class="highlighter-rouge">CALL</code>
i <code class="highlighter-rouge">RET</code> nie działają w tej konfiguracji. Zamiast wywołań funkcji wykorzystałem
więc, będącą wciąż w powszechnym użyciu metodę Kopiego-Pasty:</p>

<figure class="highlight"><pre><code class="language-asm" data-lang="asm">    ORG 0000H

FLASH           MVI     A,0C0h ; LED ON
                SIM       
                
                MVI A,0FFh ; Wait about half a second
DELAY           DCR A
                JZ CLEAR 
BLOOP           MVI B,0FFh
BLOOP2          DCR B
                JNZ BLOOP2
                JMP DELAY

CLEAR           MVI A,040h ; LED OFF
                SIM

                MVI A,0FFh ; Wait about half a second
DELAYx          DCR A
                JZ FLASH
BLOOPx          MVI B,0FFh
BLOOP2x         DCR B
                JNZ BLOOP2x
                JMP DELAYx

                HLT 
HERE            JMP HERE

    END FLASH</code></pre></figure>

<p>Powyższy kod nie należy do najbardziej czytelnych i pięknych, ale pozwoli nam przetestować działanie komputera.</p>

<p>Kod skompilowałem za pomocą wspomnianego w artykule assemblera <a href="https://github.com/glitchwrks/a85">a85</a>,
który co prawda potrafi zgłaszać enigmatyczne błędy, ale posiada całkiem przyzwoity <a href="https://github.com/glitchwrks/a85/blob/master/A85.DOC">manual</a>.
No cóż przyjaciele, RTFM!</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>./a85 test.asm <span class="nt">-o</span> test.hex
<span class="c"># Pamiętajcie żeby użyć poprawnego typu pamięci</span>
<span class="nv">$ </span>minipro <span class="nt">-p</span> AT28C64 <span class="nt">-w</span> test.hex </code></pre></figure>

<p>Opensource’owe <a href="https://gitlab.com/DavidGriffith/minipro">oprogramowanie do programatora TL866 II PLUS</a> 
dopiero od kilku miesięcy obsługuje format Intel HEX. 
Jeżeli dostaniecie komunikat o nieznanym formacie pliku spróbujcie uaktualnić <code class="highlighter-rouge">minipro</code> do
najnowszej wersji.</p>

<p>Tym razem wszystko poszło zgodnie z planem i mogłem przez kika minut delektować się mruganiem diod LED.</p>

<p>W kolejnym kroku dodałem do komputera układ 74HTC139 (nowszy zamiennik 74LS139) zgodnie ze schematem
zamieszczonym w artykule i przekonałem się że dioda LED nadal miga.</p>

<p>Kolejny krok polegał na dodaniu modułu RAM, który pracowicie połączyłem z resztą komputera:
<img src="assets/images/2020-09-20/comp1.jpeg" alt="Komputer w budowie" />
Diody nadal migały, ale teraz mogłem spróbować uruchomić na moim komputerku oryginalny kod z GlitchWorks:</p>

<figure class="highlight"><pre><code class="language-asm" data-lang="asm">    ORG 0000H

START          LXI     H,02060h  
               SPHL              


FLASH          MVI     A,0C0h    
               SIM               
               CALL    DELAY     
               MVI     A,40h     
               SIM               
               CALL    DELAY     
               JMP     FLASH     

;Delay, return to HL when done.
DELAY          MVI     A, 0FFh   
               MOV     B,A       
PT1            DCR     A         
PT2            DCR     B         
               JNZ     PT2       
               CPI     00h       
               JNZ     PT1       
               RET               

    END FLASH</code></pre></figure>

<p>Po kompilacji, wgraniu programu i uruchomieniu komputera diody nadal migały - hurra!</p>

<p>OK pora spróbować uruchomić <a href="https://www.nutsvolts.com/magazine/article/build-a-pocket-sized-altair-computer#content-extras">oprogramowanie</a> 
przygotowane przez Huntera.</p>

<p>Zanim jednak podłączyłem konwerter <code class="highlighter-rouge">USB &lt;-&gt; UART</code> do komputera, połączyłem ponownie nóżkę SID procesora z nóżką RST7_5
i jeszcze raz sprawdziłem wszystkie pozostałe połączenia.</p>

<p>Pin GND konwertera <code class="highlighter-rouge">USB &lt;-&gt; UART</code> podłączyłem do masy zasilania, pin <code class="highlighter-rouge">SOD</code> procesora połączyłem z pinem <code class="highlighter-rouge">RDX</code> konwertera,
a pin <code class="highlighter-rouge">SID</code> z pinem <code class="highlighter-rouge">TXD</code>. Pin <code class="highlighter-rouge">VCC</code> konwertera pozostał niepodłączony.</p>

<p>Po kompilacji pliku <code class="highlighter-rouge">AltaidsROM.asm</code> i wgraniu programu do EEPROM uruchomiłem <a href="https://www.putty.org/">Putty</a> żeby móc
odbierać komunikaty wysyłane z komputera. Użyłem następującej konfiguracji (2400 baud, 8N1, Flow control: None):
<img src="assets/images/2020-09-20/putty.png" alt="Konfiguracja Putty" />
Niestety jedyne co mogłem odczytać to wydawałoby się losowe znaki. Problemem okazała się częstotliwość z jaką pracował
mój mikrokomputer, ale sam byłem sobie winny - zamiast kryształu 4.9152MHz użyłem kryształu 4MHz.</p>

<p>Na szczęście, jak sugeruje pan Hunter, jest to proste do naprawienia - wystarczy nadać stałym <code class="highlighter-rouge">HALFBIT</code> i <code class="highlighter-rouge">FULLBIT</code>
(patrz <code class="highlighter-rouge">AltaidsROM.asm</code>) odpowiednio przeskalowane wartości. Ponieważ użyta przeze mnie częstotliwość procesora to 
2MHz (= 4MHz / 2) to musiałem przeskalować i zaokrąglić oryginalne wartości do:</p>

<figure class="highlight"><pre><code class="language-nohighlight" data-lang="nohighlight">s = 2 / 2.4576
HALFBIT = s * 38 = 31
FULLBIT = s * 69 = 56</code></pre></figure>

<p>Obie stałe wykorzystywane są do obliczenia czasu transmisji pojedyńczego bitu (i jego środka) przy szybkości transmisji 2400 baudów.</p>

<p>Po uruchomieniu komputera powitał mnie następujący widok:
<img src="assets/images/2020-09-20/gib.png" alt="Kolejny problem" />
Połowa tekstu była czytelna, połowa zawierała śmieci. Sam komputer nie zachowywał się poprawnie.
Po około godzinie debugowania i zbyt dużej ilości CLUB-MATE udało mi się znaleźć problem:
źle podłączoną linię adresową A11.</p>

<p>Szybko naprawiłem to niedopatrzenie. Tym razem wszystko działało poprawnie a ja mogłem wpisać i uruchomić
prosty program w BASIC’u (przy wpisywaniu musiałem zachować około jednosekundowy odstęp pomiędzy kolejnymi znakami,
wspierane są tylko duże litery):
<img src="assets/images/2020-09-20/basic1.png" alt="BASIC I" />
<img src="assets/images/2020-09-20/basic2.png" alt="BASIC II" />
<img src="assets/images/2020-09-20/basic3.png" alt="BASIC III" /></p>

<p>Koniec części pierwszej. Ciąg dalszy nastąpi…</p>



        </section>

        <footer class="post-footer">

            <!-- Everything inside the #author tags pulls data from the author -->
            <!-- #author-->
            
                
                    
                        <figure class="author-image">
                            <a class="img" href="/author/mc" style="background-image: url(/assets/images/mc.png)"><span class="hidden">mc's Picture</span></a>
                        </figure>
                    

                    <section class="author">
                        <h4><a href="/author/mc">Marcin Chwedczuk</a></h4>

                        
                            <p> A programmer, a geek, a human</p>
                        
                        <div class="author-meta">
                            <span class="author-location icon-location"> Warsaw, Poland</span>
                            <span class="author-link icon-link"><a href="http://marcinchwedczuk.pl"> http://marcinchwedczuk.pl</a></span>
                        </div>
                    </section>

                    <!-- /author  -->

                    <section class="share">
                        <h4>Share this post</h4>
                        <a class="icon-twitter" href="http://twitter.com/share?text=Minikomputer 8085 - Część I&amp;url=http://blog.marcinchwedczuk.plminikomputer-8085-czesc-I"
                            onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                            <span class="hidden">Twitter</span>
                        </a>
                        <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.marcinchwedczuk.plminikomputer-8085-czesc-I"
                            onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                            <span class="hidden">Facebook</span>
                        </a>
                        <a class="icon-google-plus" href="https://plus.google.com/share?url=http://blog.marcinchwedczuk.plminikomputer-8085-czesc-I"
                           onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                            <span class="hidden">Google+</span>
                        </a>
                    </section>
                
            

            <!-- Add Disqus Comments -->
            
                <div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'marcinchwedczukgithubio'; // required: replace example with your forum shortname
        var disqus_identifier = '/minikomputer-8085-czesc-I';
        var disqus_url = 'http://blog.marcinchwedczuk.pl/minikomputer-8085-czesc-I';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
    </div>

            

        </footer>

    </article>

</main>

<aside class="read-next">

    <!-- [[! next_post ]] -->
    
        <a class="read-next-story " style="background-image: url(/assets/images/mc_cover6.jpg)" href="/minikomputer-8085-czesc-II">
            <section class="post">
                <h2>Minikomputer 8085 - Część II</h2>
                <p>W [poprzednim](minikomputer-8085-czesc-I) wpisie udało nam się zbudować działający minikomputer oraz uruchomić na nim napisany przez...</p>
            </section>
        </a>
    
    <!-- [[! /next_post ]] -->
    <!-- [[! prev_post ]] -->
    
        <a class="read-next-story prev " style="background-image: url(/assets/images/mc_cover6.jpg)" href="/future-or-future">
            <section class="post">
                <h2>Future[_] vs Future[Unit] or which return type should I choose?</h2>
                <p>Recently I have a heated debate with my colleague about a proper return type for...</p>
            </section>
        </a>
    
    <!-- [[! /prev_post ]] -->
</aside>

<!-- /post -->


        <!-- The tiny footer at the very bottom -->
        <footer class="site-footer clearfix">
          <section class="copyright"><a href="/">Programming is Magic</a> &copy; 2021</section>
          <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> using <a href="https://github.com/jekyller/jasper">Jasper</a></section>
        </footer>
    </div>
    <!-- highlight.js -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- jQuery needs to come before `` so that jQuery can be used in code injection -->
    <script type="text/javascript" src="//code.jquery.com/jquery-1.12.0.min.js"></script>
    <!-- Ghost outputs important scripts and data with this tag -->
    <!--  -->
    <!-- Add Google Analytics  -->
        <!-- Google Analytics Tracking code -->
     <script>
	    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	    ga('create', 'UA-82096342-1', 'auto');
	    ga('send', 'pageview');

     </script>
    <!-- Fitvids makes video embeds responsive and awesome -->
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <!-- The main JavaScript file for Casper -->
    <script type="text/javascript" src="/assets/js/index.js"></script>

</body>
</html>
